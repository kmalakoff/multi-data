{"version":3,"sources":["index.ts"],"sourcesContent":["export interface HeadersObject {\n  [key: string]: string;\n}\n\nexport interface Options {\n  headers?: HeadersObject;\n}\n\n/**\n * Class to build and concatenate multipart form data\n */\nexport default class MultiData {\n  readonly boundary: string;\n  protected lines: string[] = [];\n\n  /**\n   * @param boundary The string used to define multipart boundaries and the end of body.\n   */\n  constructor(boundary: string) {\n    if (boundary === undefined) throw new TypeError('boundary expected');\n    this.boundary = boundary;\n  }\n\n  /**\n   * Append a part to the multipart form data.\n   *\n   * @param name The part name.\n   * @param data The part data.\n   * @param options Pass headers in the options for custom part headers.\n   */\n  append(name: string, data: string, options?: Options): MultiData {\n    if (name === undefined) throw new TypeError('name expected');\n    if (data === undefined) throw new TypeError('data expected');\n\n    this.lines.push(`--${this.boundary}`);\n    this.lines.push(`Content-Disposition: form-data; name=\"${name}\"`);\n    if (options && options.headers) {\n      const headers = options.headers;\n      for (const key in headers) this.lines.push(`${key}: ${headers[key]}`);\n    }\n    this.lines.push('');\n    this.lines.push(data);\n    return this;\n  }\n\n  /**\n   * After appending data, use toString() to concatenate the form data for your request.\n   */\n  toString(): string {\n    this.lines.push(`--${this.boundary}--`);\n    const string = this.lines.join('\\r\\n');\n    this.lines.pop();\n    return string;\n  }\n}\n"],"names":["MultiData","append","name","data","options","undefined","TypeError","lines","push","boundary","headers","key","toString","string","join","pop","constructor"],"mappings":"AAWe,MAAMA,SAAS;IAY5B;;;;;;KAMG,CACHC,MAAM,CAACC,IAAY,EAAEC,IAAY,EAAEC,OAAiB,EAAa;QAC/D,IAAIF,IAAI,KAAKG,SAAS,EAAE,MAAM,IAAIC,SAAS,CAAC,eAAe,CAAC,CAAC;QAC7D,IAAIH,IAAI,KAAKE,SAAS,EAAE,MAAM,IAAIC,SAAS,CAAC,eAAe,CAAC,CAAC;QAE7D,IAAI,CAACC,KAAK,CAACC,IAAI,CAAC,CAAC,EAAE,EAAE,IAAI,CAACC,QAAQ,CAAC,CAAC,CAAC,CAAC;QACtC,IAAI,CAACF,KAAK,CAACC,IAAI,CAAC,CAAC,sCAAsC,EAAEN,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QAClE,IAAIE,OAAO,IAAIA,OAAO,CAACM,OAAO,EAAE;YAC9B,MAAMA,OAAO,GAAGN,OAAO,CAACM,OAAO,AAAC;YAChC,IAAK,MAAMC,GAAG,IAAID,OAAO,CAAE,IAAI,CAACH,KAAK,CAACC,IAAI,CAAC,CAAC,EAAEG,GAAG,CAAC,EAAE,EAAED,OAAO,CAACC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;SACvE;QACD,IAAI,CAACJ,KAAK,CAACC,IAAI,CAAC,EAAE,CAAC,CAAC;QACpB,IAAI,CAACD,KAAK,CAACC,IAAI,CAACL,IAAI,CAAC,CAAC;QACtB,OAAO,IAAI,CAAC;KACb;IAED;;KAEG,CACHS,QAAQ,GAAW;QACjB,IAAI,CAACL,KAAK,CAACC,IAAI,CAAC,CAAC,EAAE,EAAE,IAAI,CAACC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;QACxC,MAAMI,MAAM,GAAG,IAAI,CAACN,KAAK,CAACO,IAAI,CAAC,MAAM,CAAC,AAAC;QACvC,IAAI,CAACP,KAAK,CAACQ,GAAG,EAAE,CAAC;QACjB,OAAOF,MAAM,CAAC;KACf;IAtCD;;KAEG,CACHG,YAAYP,QAAgB,CAAE;QAL9B,KAAUF,KAAK,GAAa,EAAE,AAAC,CAAA;QAM7B,IAAIE,QAAQ,KAAKJ,SAAS,EAAE,MAAM,IAAIC,SAAS,CAAC,mBAAmB,CAAC,CAAC;QACrE,IAAI,CAACG,QAAQ,GAAGA,QAAQ,CAAC;KAC1B;CAiCF;AA9CD;;GAEG,CACH,SAAqBT,SAAS,cA2C7B"}