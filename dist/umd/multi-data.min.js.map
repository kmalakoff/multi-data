{"version":3,"file":"multi-data.min.js","sources":["../../src/index.ts"],"sourcesContent":["export interface HeadersObject {\n  [key: string]: string;\n}\n\nexport interface Options {\n  headers?: HeadersObject;\n}\n\n/**\n * Class to build and concatenate multipart form data\n */\nexport default class MultiData {\n  readonly boundary: string;\n  protected lines: string[] = [];\n\n  /**\n   * @param boundary The string used to define multipart boundaries and the end of body.\n   */\n  constructor(boundary: string) {\n    if (boundary === undefined) throw new TypeError('boundary expected');\n    this.boundary = boundary;\n  }\n\n  /**\n   * Append a part to the multipart form data.\n   *\n   * @param name The part name.\n   * @param data The part data.\n   * @param options Pass headers in the options for custom part headers.\n   */\n  append(name: string, data: string, options?: Options): MultiData {\n    if (name === undefined) throw new TypeError('name expected');\n    if (data === undefined) throw new TypeError('data expected');\n\n    this.lines.push(`--${this.boundary}`);\n    this.lines.push(`Content-Disposition: form-data; name=\"${name}\"`);\n    if (options?.headers) {\n      const headers = options.headers;\n      for (const key in headers) this.lines.push(`${key}: ${headers[key]}`);\n    }\n    this.lines.push('');\n    this.lines.push(data);\n    return this;\n  }\n\n  /**\n   * After appending data, use toString() to concatenate the form data for your request.\n   */\n  toString(): string {\n    this.lines.push(`--${this.boundary}--`);\n    const string = this.lines.join('\\r\\n');\n    this.lines.pop();\n    return string;\n  }\n}\n"],"names":["MultiData","boundary","instance","Constructor","this","lines","undefined","TypeError","prototype","append","name","data","options","push","concat","headers","key","toString","string","join","pop"],"mappings":"iPAWe,WAAMA,SAAAA,EAOPC,GACV,GAnBJ,SAAAC,EAAAC,0FAaEC,KAAUC,MAAkB,QAMTC,IAAbL,EAAwB,MAAM,IAAIM,UAAU,qBAChDH,KAAKH,SAAWA,QATCD,EAASQ,iBAmB5BC,EAAAA,OAAAA,SAAOC,EAAcC,EAAcC,GACjC,QAAaN,IAATI,EAAoB,MAAM,IAAIH,UAAU,iBAC5C,QAAaD,IAATK,EAAoB,MAAM,IAAIJ,UAAU,iBAI5C,GAFAH,KAAKC,MAAMQ,KAAK,KAAmBC,OAAdV,KAAKH,WAC1BG,KAAKC,MAAMQ,KAAK,yCAA8CC,OAALJ,EAAK,MAC1DE,aAAAA,EAAAA,EAASG,QAAS,CACpB,IAAMA,EAAUH,EAAQG,QACxB,IAAK,IAAMC,KAAOD,EAASX,KAAKC,MAAMQ,KAAM,GAAUE,OAARC,EAAI,MAAiBF,OAAbC,EAAQC,IAC/D,CAGD,OAFAZ,KAAKC,MAAMQ,KAAK,IAChBT,KAAKC,MAAMQ,KAAKF,GACTP,IACR,EAKDa,EAAAA,SAAAA,WACEb,KAAKC,MAAMQ,KAAK,KAAmBC,OAAdV,KAAKH,SAAS,OACnC,IAAMiB,EAASd,KAAKC,MAAMc,KAAK,QAE/B,OADAf,KAAKC,MAAMe,MACJF,CACR,IA1CY"}